# go_prac


golang ç»ƒä¹ ä½¿ç”¨

> 2022.02.17 å¼€å§‹ç³»ç»Ÿçš„å­¦ä¹  golangï¼ŒðŸ’ªðŸ’ªðŸ’ª
## å€¼ç±»åž‹å’Œå¼•ç”¨ç±»åž‹
### å€¼ç±»åž‹
å€¼ç±»åž‹ï¼šå˜é‡ç›´æŽ¥å­˜å‚¨å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨æ ˆä¸­åˆ†é…ï¼ˆå±žäºŽå€¼ç±»åž‹çš„æ•°æ®ç±»åž‹æœ‰ï¼šintã€floatã€boolã€stringã€æ•°ç»„ä»¥åŠstructï¼‰


### å¼•ç”¨ç±»åž‹
å¼•ç”¨ç±»åž‹ï¼šå˜é‡å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€å­˜å‚¨æœ€ç»ˆçš„å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨å †ä¸­åˆ†é…ï¼Œé€šè¿‡GCå›žæ”¶ï¼ˆå±žäºŽå¼•ç”¨ç±»åž‹çš„çš„æ•°æ®ç±»åž‹æœ‰ï¼šæŒ‡é’ˆã€sliceã€mapã€chanç­‰ï¼‰
æ³¨ï¼šå¼•ç”¨ç±»åž‹é›¶å€¼å³ä¸º nil
1. slice
2. map

## æ•°ç»„å’Œåˆ‡ç‰‡çš„åŒºåˆ«

æ•°ç»„ç±»åž‹çš„å€¼ï¼ˆä»¥ä¸‹ç®€ç§°æ•°ç»„ï¼‰çš„é•¿åº¦æ˜¯å›ºå®šçš„æ•°ç»„çš„é•¿åº¦åœ¨å£°æ˜Žå®ƒçš„æ—¶å€™å°±å¿…é¡»ç»™å®šï¼Œå¹¶ä¸”åœ¨ä¹‹åŽä¸ä¼šå†æ”¹å˜ã€‚
å¯ä»¥è¯´ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯å…¶ç±»åž‹çš„ä¸€éƒ¨åˆ†ï¼ˆæ•°ç»„çš„å®¹é‡æ°¸è¿œç­‰äºŽå…¶é•¿åº¦ï¼Œéƒ½æ˜¯ä¸å¯å˜çš„ï¼‰

åˆ‡ç‰‡ç±»åž‹çš„å€¼æ˜¯å¯å˜é•¿çš„ã€‚è€Œåˆ‡ç‰‡çš„ç±»åž‹å­—é¢é‡ä¸­åªæœ‰å…¶å…ƒç´ çš„ç±»åž‹ï¼Œè€Œæ²¡æœ‰å…¶é•¿åº¦ã€‚
åˆ‡ç‰‡çš„é•¿åº¦å¯ä»¥è‡ªåŠ¨åœ°éšç€å…¶ä¸­å…ƒç´ æ•°é‡çš„å¢žé•¿è€Œå¢žé•¿ï¼Œä½†ä¸ä¼šéšç€å…ƒç´ æ•°é‡çš„å‡å°‘è€Œå‡å°‘ã€‚
å°¤å…¶éœ€è¦æ³¨æ„çš„æ˜¯å·¦é—­å³å¼€çš„

åœ¨æ¯ä¸€ä¸ªåˆ‡ç‰‡çš„åº•å±‚æ•°æ®ç»“æž„ä¸­ï¼Œä¼šåŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥è¢«å«åšåº•å±‚æ•°æ®ï¼Œè€Œåˆ‡ç‰‡å°±æ˜¯å¯¹åº•å±‚æ•°ç»„çš„å¼•ç”¨ï¼Œæ•…è€Œåˆ‡ç‰‡ç±»åž‹å±žäºŽå¼•ç”¨ç±»åž‹ï¼Œ
å› æ­¤ä¿®æ”¹åˆ‡ç‰‡ä¼šä¿®æ”¹åŽŸæ•°ç»„ã€‚

```
/* 
  åˆ‡ç‰‡çš„ç»“æž„ä½“,
  ç»“æž„ä½“å¯ä»¥å®¹çº³è®¸å¤šä¸åŒçš„æ•°æ®å€¼ã€‚
  åœ¨è¿‡åŽ»ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„åº”ç”¨å°šæœªæ™®åŠä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸å°†ä¸€äº›ä»Žé€»è¾‘ä¸Šè¿žæŽ¥åœ¨ä¸€èµ·çš„æ•°æ®ç»„åˆåˆ°ä¸€ä¸ªå•å…ƒä¸­ã€‚
  ä¸€æ—¦ç»“æž„ä½“ç±»åž‹è¢«å£°æ˜Žå¹¶ä¸”å…¶æ•°æ®æˆå‘˜è¢«æ ‡è¯†ï¼Œå³å¯åˆ›å»ºè¯¥ç±»åž‹çš„å¤šä¸ªå˜é‡ï¼Œå°±åƒå¯ä»¥ä¸ºåŒä¸€ä¸ªç±»åˆ›å»ºå¤šä¸ªå¯¹è±¡ä¸€æ ·ã€‚
*/
type slice struct {
    array unsafe.Pointer // åº•å±‚æ•°æ®çš„æŒ‡é’ˆ
    len   int // åˆ‡çš„é•¿åº¦
    cap   int // æˆªå–åº•å±‚æ•°æ®çš„å®¹é‡
}
```

### åˆ‡ç‰‡æŽŒæ¡å†…å®¹

1. æœ€å¥½æ·»åŠ ç¬¬ä¸‰ä¸ªå‚æ•°å³å®¹é‡ä»¥é¿å…å¯¼è‡´å‡ºçŽ°è®¿é—®ä¸è¯¥æš´éœ²çš„å…ƒç´ 
2. append
3. copy éµå¾ªæœ€å°å¤åˆ¶åŽŸåˆ™ï¼Œè¢«å¤åˆ¶çš„å…ƒç´ ä¸ªæ•°æ€»æ˜¯ç­‰äºŽé•¿åº¦è¾ƒçŸ­çš„é‚£ä¸ªå‚æ•°å€¼çš„é•¿åº¦

## æ ¼å¼åŒ–è¾“å‡º
``Println``å¯ä»¥æ‰“å°å‡ºå­—ç¬¦ä¸²ï¼Œå’Œå˜é‡


``Printf``åªå¯ä»¥æ‰“å°å‡ºæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²,å¯ä»¥è¾“å‡ºå­—ç¬¦ä¸²ç±»åž‹çš„å˜é‡


``ï¼…d``æ•´åž‹è¾“å‡ºï¼Œ``ï¼…ld``é•¿æ•´åž‹è¾“å‡ºï¼Œ

``ï¼…o``ä»¥å…«è¿›åˆ¶æ•°å½¢å¼è¾“å‡ºæ•´æ•°ï¼Œ

``ï¼…x``ä»¥å°å†™åå…­è¿›åˆ¶æ•°å½¢å¼è¾“å‡ºæ•´æ•°ï¼Œ

``ï¼…X``ä»¥å¤§å†™åå…­è¿›åˆ¶æ•°å½¢å¼è¾“å‡ºæ•´æ•°ï¼Œ

``ï¼…u``ä»¥åè¿›åˆ¶æ•°è¾“å‡ºunsignedåž‹æ•°æ®(æ— ç¬¦å·æ•°)ã€‚

``ï¼…c``ç”¨æ¥è¾“å‡ºä¸€ä¸ªå­—ç¬¦ï¼Œ

``ï¼…s``ç”¨æ¥è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ

``ï¼…f``ç”¨æ¥è¾“å‡ºå®žæ•°ï¼Œä»¥å°æ•°å½¢å¼è¾“å‡ºï¼Œï¼ˆå¤‡æ³¨ï¼šæµ®ç‚¹æ•°æ˜¯ä¸èƒ½å®šä¹‰å¦‚çš„ç²¾åº¦çš„ï¼Œæ‰€ä»¥â€œ%6.2fâ€è¿™ç§å†™æ³•æ˜¯â€œé”™è¯¯çš„â€ï¼ï¼ï¼ï¼‰

``ï¼…e``ä»¥æŒ‡æ•°å½¢å¼è¾“å‡ºå®žæ•°ï¼Œ

``ï¼…g``æ ¹æ®å¤§å°è‡ªåŠ¨é€‰fæ ¼å¼æˆ–eæ ¼å¼ï¼Œä¸”ä¸è¾“å‡ºæ— æ„ä¹‰çš„é›¶ã€‚

``%v``	ä½¿ç”¨é»˜è®¤æ ¼å¼è¾“å‡ºå€¼ï¼Œæˆ–è€…å¦‚æžœæ–¹æ³•å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨ç±»æ€§å€¼çš„String()æ–¹æ³•è¾“å‡ºè‡ªå®šä¹‰å€¼

## go çš„ç‰¹æ®Šè¡¨ç¤º
interface{}ä½œä¸ºGoçš„é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œå®ƒä»£è¡¨çš„æ˜¯ä¸€ä¸ªç±»ä¼¼``*void``çš„æŒ‡é’ˆï¼Œå¯ä»¥æŒ‡å‘ä¸åŒç±»åž‹çš„æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥æŒ‡å‘ä»»ä½•æ•°æ®ã€‚
## TODO

1. go çš„åŸºæœ¬ç±»åž‹å’Œå¼•ç”¨ç±»åž‹åŒºåˆ†
2. functions å­¦ä¹ ï¼Œå¤šä¸ªè¿”å›žå€¼å­¦ä¹ 
3. å£°æ˜Žå˜é‡çš„æ–¹å¼ å°¤å…¶æ˜¯å†’å·
4. æŒ‡é’ˆ 
5. ~~slice map struct~~ åç¨‹
6. map åœ¨å¹¶å‘ä¼š panic åŽŸå› ï¼Ÿ
7. switch ä¸éœ€è¦è¿›è¡Œ break
8. åœ¨ for å¾ªçŽ¯ä¸­å†™å‡½æ•°ä¹Ÿä¼šé¢ä¸´é—­åŒ…é—®é¢˜ï¼Œå½“ç„¶ä¹Ÿæœ‰ç›¸åº”çš„è§£å†³æ–¹æ¡ˆ
9. ~~ç»“æž„ä½“ï¼Œc++ ä¸­çš„ç»“æž„ä½“~~


## ä¸€äº› Q and A

1. ~~å½“æˆ‘ä»¬æ‰§è¡Œ `go run main.go` çš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆ~~

- go build main.go ç¼–è¯‘æˆäºŒè¿›åˆ¶å¯æ‰§è¡Œç¨‹åº
- ./main æ‰§è¡Œè¯¥ç¨‹åº

2. ~~golang ä¸­å•å¼•å·å’ŒåŒå¼•å·ä»€ä¹ˆåŒºåˆ«~~

- å•å¼•å·æ˜¯ å­—ç¬¦
- åŒå¼•å·æ˜¯ å­—ç¬¦ä¸²
- åå¼•å·æ˜¯ è¡¨ç¤ºåŽŸç”Ÿï¼Œå…¶ä¸­çš„åæ–œæ æ¯”å¦‚å¸¸è§çš„æ¢è¡Œç¬¦ \n ä¸ä¼šè¢«è½¬ä¹‰

3. ~~golang ä¸­å¯ä»¥ä½¿ç”¨åˆ†å·å—~~
golang ä¸­ä¸€èˆ¬åªæœ‰åœ¨åˆ†éš” for å¾ªçŽ¯çš„åˆå§‹åŒ–è¯­å¥æ—¶ç»å¸¸ç”¨åˆ°ï¼Œä½†åœ¨ä»£ç æ®µæœ«å°¾çš„åˆ†å·ä¸€èˆ¬æ˜¯å¿½ç•¥çš„

4. ~~golang æ€Žä¹ˆèŽ·å–æ•°æ®ç±»åž‹~~

```go
// vars ä¸ºå˜é‡
reflect.TypeOf(vars).Kind()
```
5. ~~uint8, int32 æ˜¯ä»€ä¹ˆç±»åž‹ï¼Œèƒ½ä¸èƒ½ä¸¾ä¸ªä¾‹å­ï¼Ÿ~~

uint8: [0,255] æ— ç¬¦å·æ•´åž‹

int32: [-2147483648 : 2147483647] æ•´åž‹

6. ~~rune æ•°ç»„æ˜¯ä»€ä¹ˆï¼Ÿ~~

golang ä¸­ rune å…¶å®ž int32 çš„åˆ«åï¼Œç”¨äºŽåŒºåˆ†å­—ç¬¦å€¼å’Œæ•´æ•°å€¼ã€‚

å½“éœ€è¦å¤„ç†ä¸­æ–‡ã€æ—¥æ–‡æˆ–è€…å…¶ä»–å¤åˆå­—ç¬¦æ—¶ï¼Œéœ€è¦ç”¨åˆ° rune ç±»åž‹ï¼ˆæœ¬èº«æ˜¯ golang çš„ä¸€ç§ç‰¹æ®Šç±»åž‹ï¼‰ï¼Œrune å®žé™…ä¸Šå°±æ˜¯ int32

7. go å¦‚ä½•åšç±»åž‹è½¬æ¢ï¼Œæ¯”å¦‚ string()ï¼Œæ˜¯ä¸æ˜¯å¼ºç±»åž‹è¯­è¨€ä¸éœ€è¦è¿›è¡Œç±»åž‹è½¬æ¢ï¼Ÿ
    - ç©ºæŽ¥å£å¯ä»¥å­˜å‚¨ä»»æ„ç±»åž‹çš„æ•°æ®ï¼Œå› æ­¤å­˜å‚¨åœ¨æŽ¥å£ä¸­çš„æ•°æ®å¯ä»¥è¿›è¡Œç±»åž‹è½¬æ¢ã€‚ï¼ˆä¸è¿‡å¯ä»¥çœ‹å‡ºæ¥å°±æ˜¯æ˜¾è€Œæ˜“è§çš„ç›¸åŒç±»åž‹è½¬æ¢ï¼Œè€Œéžä»Žç±»åž‹ 1 è½¬æ¢ä¸ºç±»åž‹ 2ï¼‰==todo==

8. ~~å¦‚ä½•éåŽ†ä¸€ä¸ªæ•°ç»„~~


## shell

1. `mv`

ä¿®æ”¹æ–‡ä»¶åï¼š hello.go --> main.go

```shell
mv hello.go main.go
```